# Change: æ•´åˆä¾èµ–é¡¹åˆ°ç‰ˆæœ¬ç®¡ç†æµç¨‹

## Why

å½“å‰ Hagicode Desktop åº”ç”¨åœ¨æ¶æ„ä¸Šå­˜åœ¨åŠŸèƒ½é‡å¤å’Œç”¨æˆ·ä½“éªŒå‰²è£‚çš„é—®é¢˜ï¼š

1. **ä¸€çº§èœå•å†—ä½™**ï¼šä¾èµ–é¡¹ç®¡ç†ä½œä¸ºç‹¬ç«‹çš„ä¸€çº§èœå•é¡¹å­˜åœ¨ï¼Œä½†å®é™…ä¸Šä¾èµ–é¡¹æ£€æŸ¥æ˜¯ç‰ˆæœ¬å®‰è£…æµç¨‹çš„è‡ªç„¶ç»„æˆéƒ¨åˆ†ï¼Œä¸åº”ç‹¬ç«‹å­˜åœ¨
2. **å®‰è£…æµç¨‹å‰²è£‚**ï¼šç‰ˆæœ¬å®‰è£…å’Œä¾èµ–é¡¹ç®¡ç†è¢«åˆ†ä¸ºä¸¤ä¸ªç‹¬ç«‹æ­¥éª¤ï¼Œç”¨æˆ·éœ€è¦åœ¨å¤šä¸ªç•Œé¢é—´åˆ‡æ¢ï¼Œå¯¼è‡´ä½“éªŒä¸è¿è´¯
3. **çŠ¶æ€ç®¡ç†æ··ä¹±**ï¼šå·²å®‰è£…ç‰ˆæœ¬çš„çŠ¶æ€ï¼ˆå®Œå…¨å¯ç”¨ vs ç¼ºå°‘ä¾èµ–é¡¹ï¼‰æœªåœ¨ä»ªè¡¨ç›˜ä¸­æ¸…æ™°å±•ç¤ºï¼Œç”¨æˆ·æ— æ³•ç›´è§‚äº†è§£æœåŠ¡å¯ç”¨æ€§
4. **ç‰ˆæœ¬ç®¡ç†æ¨¡å—æœªå®ç°**ï¼šç¼ºå°‘å®Œæ•´çš„ç‰ˆæœ¬ç®¡ç†åŠŸèƒ½ï¼ŒåŒ…æ‹¬ YAML Manifest è§£æã€ç‰ˆæœ¬æ¥æºæ‰«æã€å®‰è£…çŠ¶æ€æŒä¹…åŒ–ç­‰æ ¸å¿ƒèƒ½åŠ›

é€šè¿‡å°†ä¾èµ–é¡¹ç®¡ç†æ•´åˆåˆ°ç‰ˆæœ¬ç®¡ç†æµç¨‹ä¸­ï¼Œå¯ä»¥ï¼š
- ç®€åŒ–å¯¼èˆªç»“æ„ï¼Œå‡å°‘ç”¨æˆ·è®¤çŸ¥è´Ÿæ‹…
- æä¾›æµç•…çš„ç‰ˆæœ¬å®‰è£… â†’ ä¾èµ–é¡¹æ£€æŸ¥ â†’ å¯ç”¨æœåŠ¡çš„å®Œæ•´é—­ç¯
- æ¸…æ™°å±•ç¤ºç‰ˆæœ¬çŠ¶æ€ï¼Œé¿å…å¯ç”¨å¤±è´¥
- å®ç°å®Œæ•´çš„ç‰ˆæœ¬ç”Ÿå‘½å‘¨æœŸç®¡ç†

## What Changes

- **èœå•ç»“æ„é‡æ„**ï¼šä»ä¾§è¾¹æ å¯¼èˆªä¸­ç§»é™¤"ä¾èµ–é¡¹ç®¡ç†"ç‹¬ç«‹å…¥å£ï¼Œå°†å…¶åŠŸèƒ½æ•´åˆåˆ°ç‰ˆæœ¬ç®¡ç†æµç¨‹ä¸­
- **ç‰ˆæœ¬ç®¡ç†æ ¸å¿ƒåŠŸèƒ½å®ç°**ï¼š
  - åˆ›å»º Manifest Reader æ¨¡å—ï¼ˆ`src/main/manifest-reader.ts`ï¼‰ç”¨äºè§£æ YAML æ ¼å¼çš„ Manifest æ–‡ä»¶
  - å®ç°ç‰ˆæœ¬æä¾›è€…æ‰«ææœºåˆ¶ï¼Œæ”¯æŒå¤šä¸ªç‰ˆæœ¬æ¥æºï¼ˆæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿã€è¿œç¨‹ä»“åº“ç­‰ï¼‰
  - å®ç°ç‰ˆæœ¬å®‰è£…æµç¨‹ï¼ŒåŒ…æ‹¬ä¸‹è½½ã€è§£å‹ã€æ‰§è¡Œå®‰è£…åè„šæœ¬
  - ä¾èµ–é¡¹è‡ªåŠ¨æ£€æŸ¥å’Œç»“æœæŒä¹…åŒ–
- **ä¾èµ–é¡¹å¯è§†åŒ–ä¸ç”¨æˆ·å¼•å¯¼**ï¼š
  - åˆ›å»º `DependencyCheckCard` ç»„ä»¶ï¼Œåœ¨ç‰ˆæœ¬ç®¡ç†ç•Œé¢ä¸­å†…åµŒä¾èµ–é¡¹æ£€æŸ¥å’Œå±•ç¤º
  - åˆ›å»ºå®Œæ•´çš„ `VersionManagementPage` é¡µé¢ï¼ŒåŒ…å«å¯ç”¨ç‰ˆæœ¬åˆ—è¡¨ã€å®‰è£…æ“ä½œã€å·²å®‰è£…ç‰ˆæœ¬ç®¡ç†
- **ä»ªè¡¨ç›˜é›†æˆ**ï¼š
  - åœ¨ `SystemManagementView` ä¸­æ˜¾ç¤ºå½“å‰æ¿€æ´»ç‰ˆæœ¬å’Œå¯ç”¨ç‰ˆæœ¬åˆ—è¡¨
  - å¯ç”¨æ¡ä»¶æ ¡éªŒï¼šä»…å½“ç‰ˆæœ¬çŠ¶æ€ä¸º `installed-ready` æ—¶å…è®¸å¯ç”¨æœåŠ¡
  - æœåŠ¡çŠ¶æ€ä¸ç‰ˆæœ¬çŠ¶æ€å…³è”
- **IPC é€šä¿¡æ¥å£æ‰©å±•**ï¼šæ–°å¢ç‰ˆæœ¬ç®¡ç†ç›¸å…³çš„ IPC handlers å’Œ preload API
- **å›½é™…åŒ–æ”¯æŒ**ï¼šæ·»åŠ ç‰ˆæœ¬ç®¡ç†ç›¸å…³çš„ç¿»è¯‘é”®

**é‡è¦è¯´æ˜**ï¼šæœ¬ææ¡ˆä¸­çš„"ä¾èµ–é¡¹ç®¡ç†æ•´åˆ"æ˜¯æŒ‡å°†ç‹¬ç«‹çš„"ä¾èµ–é¡¹ç®¡ç†"ä¸€çº§èœå•é¡¹ç§»é™¤ï¼Œå°†å…¶æ ¸å¿ƒåŠŸèƒ½ï¼ˆæ£€æŸ¥ç³»ç»Ÿè¿è¡Œæ—¶ä¾èµ–å¦‚ .NETã€Node.jsï¼‰æ•´åˆåˆ°ç‰ˆæœ¬ç®¡ç†é¡µé¢ä¸­ï¼Œä½¿å…¶åœ¨ç‰ˆæœ¬å®‰è£…åè‡ªç„¶æ˜¾ç¤ºï¼Œè€Œä¸æ˜¯ä½œä¸ºç‹¬ç«‹çš„å¯¼èˆªå…¥å£ã€‚

## UI Design Changes

### æ–°ä¾§è¾¹æ å¯¼èˆªç»“æ„

ç§»é™¤"ä¾èµ–é¡¹ç®¡ç†"å¯¼èˆªé¡¹åçš„ä¾§è¾¹æ ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            â”‚
â”‚  [H] Hagicode Desktop        â”‚  Logo åŒºåŸŸ
â”‚                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ âš™ ä»ªè¡¨ç›˜         â”‚      â”‚  ä¿ç•™
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ ğŸŒ Web æœåŠ¡      â”‚      â”‚  ä¿ç•™
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ ğŸ“‹ ç‰ˆæœ¬ç®¡ç†      â”‚      â”‚  ä¿ç•™ï¼ˆåŠŸèƒ½æ‰©å±•ï¼‰
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                            â”‚
â”‚  â—€ æ”¶èµ·                    â”‚  åˆ‡æ¢æŒ‰é’®
â”‚                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç‰ˆæœ¬ç®¡ç†é¡µé¢è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç‰ˆæœ¬ç®¡ç†                                                        â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ å¯ç”¨ç‰ˆæœ¬                                                  â”‚  â”‚
â”‚  â”‚                                                           â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚ ğŸ“¦ Hagicode Server v1.2.3                        â”‚    â”‚  â”‚
â”‚  â”‚  â”‚    å‘å¸ƒäº: 2026-01-15  | å¤§å°: 125MB          â”‚    â”‚  â”‚
â”‚  â”‚  â”‚    [å®‰è£…ç‰ˆæœ¬]                                 â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â”‚                                                           â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚ ğŸ“¦ Hagicode Server v1.2.2                        â”‚    â”‚  â”‚
â”‚  â”‚  â”‚    å‘å¸ƒäº: 2026-01-10  | å¤§å°: 120MB          â”‚    â”‚  â”‚
â”‚  â”‚  â”‚    [å®‰è£…ç‰ˆæœ¬]                                 â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ å·²å®‰è£…ç‰ˆæœ¬                                                â”‚  â”‚
â”‚  â”‚                                                           â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚ âœ“ Hagicode Server v1.2.1  [å½“å‰æ¿€æ´»]           â”‚    â”‚  â”‚
â”‚  â”‚  â”‚    å®‰è£…äº: 2026-01-05  |  ä¾èµ–é¡¹: å·²æ»¡è¶³      â”‚    â”‚  â”‚
â”‚  â”‚  â”‚    [å¸è½½]  [åˆ‡æ¢]                              â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â”‚                                                           â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚ âš  Hagicode Server v1.2.0                        â”‚    â”‚  â”‚
â”‚  â”‚  â”‚    å®‰è£…äº: 2026-01-02  |  ä¾èµ–é¡¹: ç¼ºå°‘ .NET   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚    [æŸ¥çœ‹ä¾èµ–é¡¹]  [å¸è½½]                        â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¾èµ–é¡¹æ£€æŸ¥å¡ç‰‡ï¼ˆåµŒå…¥ç‰ˆæœ¬ç®¡ç†é¡µé¢ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä¾èµ–é¡¹æ£€æŸ¥ - Hagicode Server v1.2.0                              â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ âœ“ .NET 10 Runtime                                       â”‚  â”‚
â”‚  â”‚   ç‰ˆæœ¬: 10.0.0  |  è¦æ±‚: 10.0.0+                       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ âœ“ Node.js                                                 â”‚  â”‚
â”‚  â”‚   ç‰ˆæœ¬: 24.12.0  |  è¦æ±‚: 20.11.0+                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ âœ— Claude Code                                            â”‚  â”‚
â”‚  â”‚   è¦æ±‚: 0.1.0-alpha.9  |  å½“å‰: æœªå®‰è£…                   â”‚  â”‚
â”‚  â”‚   [ä½¿ç”¨ npm å®‰è£…]  [è®¿é—®å®˜ç½‘ä¸‹è½½]                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚  [åˆ·æ–°ä¾èµ–é¡¹]                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç”¨æˆ·äº¤äº’æµç¨‹

```mermaid
sequenceDiagram
    participant User
    participant Sidebar
    participant VersionPage
    participant Main
    participant PackageManager
    participant ManifestReader
    participant DependencyManager

    User->>Sidebar: ç‚¹å‡»"ç‰ˆæœ¬ç®¡ç†"
    Sidebar->>VersionPage: æ˜¾ç¤ºç‰ˆæœ¬ç®¡ç†é¡µé¢
    VersionPage->>Main: listVersions()
    Main->>PackageManager: è·å–å¯ç”¨ç‰ˆæœ¬åˆ—è¡¨
    PackageManager-->>Main: ç‰ˆæœ¬åˆ—è¡¨
    Main-->>VersionPage: æ˜¾ç¤ºå¯ç”¨å’Œå·²å®‰è£…ç‰ˆæœ¬

    User->>VersionPage: ç‚¹å‡»"å®‰è£…ç‰ˆæœ¬"
    VersionPage->>Main: installVersion(versionId)
    Main->>PackageManager: ä¸‹è½½å¹¶å®‰è£…ç‰ˆæœ¬åŒ…
    PackageManager->>ManifestReader: è¯»å– manifest.yaml
    ManifestReader-->>PackageManager: ä¾èµ–é¡¹åˆ—è¡¨
    PackageManager->>DependencyManager: æ£€æŸ¥ä¾èµ–é¡¹
    DependencyManager-->>PackageManager: ä¾èµ–é¡¹çŠ¶æ€
    PackageManager-->>Main: å®‰è£…å®Œæˆ + ä¾èµ–é¡¹çŠ¶æ€
    Main-->>VersionPage: æ˜¾ç¤ºæ–°å®‰è£…ç‰ˆæœ¬ + ä¾èµ–é¡¹å¡ç‰‡

    User->>VersionPage: æŸ¥çœ‹"å·²å®‰è£…ç‰ˆæœ¬"ä¸­çš„ä¾èµ–é¡¹çŠ¶æ€
    alt ä¾èµ–é¡¹å…¨éƒ¨æ»¡è¶³
        VersionPage-->>User: æ˜¾ç¤º"âœ“ æ‰€æœ‰ä¾èµ–é¡¹å·²æ»¡è¶³"
        VersionPage-->>User: æ˜¾ç¤º"[å¯ç”¨æœåŠ¡]"æŒ‰é’®
    else å­˜åœ¨ç¼ºå¤±ä¾èµ–é¡¹
        VersionPage-->>User: æ˜¾ç¤ºä¾èµ–é¡¹æ£€æŸ¥å¡ç‰‡
        VersionPage-->>User: æ˜¾ç¤º"[ç¼ºå°‘ä¾èµ–é¡¹]"æç¤º
        User->>VersionPage: ç‚¹å‡»"[ä½¿ç”¨ npm å®‰è£…]"
        VersionPage->>Main: installDependency()
        Main->>DependencyManager: æ‰§è¡Œå®‰è£…å‘½ä»¤
        DependencyManager-->>VersionPage: å®‰è£…ç»“æœ
        VersionPage->>Main: checkDependencies()
        Main-->>VersionPage: æ›´æ–°ä¾èµ–é¡¹çŠ¶æ€
    end

    User->>Sidebar: ç‚¹å‡»"ä»ªè¡¨ç›˜"
    Sidebar->>User: æ˜¾ç¤ºä»ªè¡¨ç›˜
    alt å½“å‰æ¿€æ´»ç‰ˆæœ¬ä¾èµ–é¡¹æ»¡è¶³
        User-->>User: å¯ä»¥å¯ç”¨ Web æœåŠ¡
    else å½“å‰æ¿€æ´»ç‰ˆæœ¬ç¼ºå°‘ä¾èµ–é¡¹
        User-->>User: æ˜¾ç¤º"éœ€è¦å®‰è£…ä¾èµ–é¡¹"æç¤º
        User->>Sidebar: ç‚¹å‡»"ç‰ˆæœ¬ç®¡ç†"ï¼ˆå¼•å¯¼ï¼‰
    end
```

## Code Flow Changes

### ç‰ˆæœ¬ç®¡ç†æ¶æ„

```mermaid
graph TB
    subgraph "Main Process"
        PM[PackageManager]
        MR[ManifestReader]
        DM[DependencyManager]
        VM[VersionManager - NEW]
        Store[(electron-store)]
    end

    subgraph "Renderer Process"
        VMP[VersionManagementPage]
        DCC[DependencyCheckCard]
        SMV[SystemManagementView]
    end

    subgraph "Data Sources"
        FS[Local File System]
        Remote[Remote Repository]
        Git[Git Repository]
    end

    subgraph "Storage"
        InstallDir[Installation Directory]
        Config[Version Configuration]
    end

    VMP -->|IPC: listVersions| VM
    VM --> PM
    PM -->|Scan| FS
    PM -->|Scan| Remote
    PM -->|Scan| Git
    PM --> Store

    VMP -->|IPC: installVersion| VM
    VM --> PM
    PM -->|Download| FS
    PM -->|Extract| InstallDir
    PM --> MR
    MR -->|Parse manifest| PM
    PM --> DM
    DM -->|Check deps| PM
    PM -->|Persist state| Store

    VMP -->|IPC: checkDependencies| VM
    VM --> DM
    DM -->|Return results| VM
    VM --> VMP

    VMP -->|Contains| DCC
    SMV -->|IPC: getInstalledVersions| VM
    VM --> Store
    VM --> SMV

    Store -->|installedVersions| Config
```

### ä¾èµ–é¡¹æ£€æŸ¥æµç¨‹

```mermaid
flowchart TD
    A[ç‰ˆæœ¬å®‰è£…å®Œæˆ] --> B[è¯»å– manifest.yaml]
    B --> C[è§£æ dependencies èŠ‚ç‚¹]
    C --> D{ä¾èµ–é¡¹ç±»å‹?}

    D -->|system-runtime| E[æ‰§è¡Œ checkCommand]
    D -->|npm| F[æ£€æŸ¥ npm å…¨å±€åŒ…]
    D -->|system-requirement| G[éªŒè¯ç³»ç»Ÿè¦æ±‚]

    E --> H[è§£æç‰ˆæœ¬è¾“å‡º]
    F --> H
    G --> H

    H --> I{ç‰ˆæœ¬æ£€æŸ¥}
    I -->|exact match required| J{å®Œå…¨åŒ¹é…?}
    I -->|range required| K{åœ¨èŒƒå›´å†…?}

    J -->|Yes| L[çŠ¶æ€: Installed]
    J -->|No| M[çŠ¶æ€: Version Mismatch]

    K -->|Yes| L
    K -->|No| M

    L --> N[è¿”å›ç»“æœ]
    M --> N
    H -->|Not found| O[çŠ¶æ€: Not Installed]
    O --> N

    N --> P[å­˜å‚¨åˆ° electron-store]
    P --> Q[UI æ˜¾ç¤ºç»“æœ]
```

### ç‰ˆæœ¬çŠ¶æ€ç®¡ç†

```mermaid
stateDiagram-v2
    [*] --> NotInstalled: åˆå§‹çŠ¶æ€
    NotInstalled --> Installing: ç”¨æˆ·ç‚¹å‡»å®‰è£…
    Installing --> InstalledReady: å®‰è£…æˆåŠŸ + ä¾èµ–é¡¹æ»¡è¶³
    Installing --> InstalledIncomplete: å®‰è£…æˆåŠŸ + ä¾èµ–é¡¹ç¼ºå¤±
    Installing --> InstallFailed: å®‰è£…å¤±è´¥

    InstalledIncomplete --> InstalledReady: ç”¨æˆ·å®‰è£…ç¼ºå¤±ä¾èµ–é¡¹
    InstalledIncomplete --> Uninstalled: ç”¨æˆ·å¸è½½ç‰ˆæœ¬

    InstalledReady --> Active: ç”¨æˆ·æ¿€æ´»ç‰ˆæœ¬
    Active --> Inactive: ç”¨æˆ·åˆ‡æ¢ç‰ˆæœ¬

    InstalledReady --> Uninstalled: ç”¨æˆ·å¸è½½ç‰ˆæœ¬
    Inactive --> InstalledReady: ç”¨æˆ·é‡æ–°æ¿€æ´»
    Inactive --> Uninstalled: ç”¨æˆ·å¸è½½ç‰ˆæœ¬

    Uninstalled --> [*]
```

### ç»„ä»¶å…³ç³»

```mermaid
graph LR
    A[App.tsx] --> B[SidebarNavigation]
    A --> C[SystemManagementView]
    A --> D[VersionManagementPage]
    A --> E[WebView]

    D --> F[DependencyCheckCard]
    D --> G[VersionListCard]
    D --> H[InstalledVersionsCard]

    C -->|æ˜¾ç¤º| I[å½“å‰æ¿€æ´»ç‰ˆæœ¬]
    C -->|æ˜¾ç¤º| J[ç‰ˆæœ¬çŠ¶æ€æç¤º]

    D -->|IPC| K[VersionManager]
    F -->|IPC| K
```

## Impact

### Affected specs

- **dependency-management** - ä¿®æ”¹ç°æœ‰è§„èŒƒï¼Œå°†ä¾èµ–é¡¹æ£€æŸ¥ä»ç‹¬ç«‹åŠŸèƒ½æ•´åˆä¸ºç‰ˆæœ¬ç®¡ç†çš„å­åŠŸèƒ½
- **electron-app** - ä¿®æ”¹åº”ç”¨å¯¼èˆªç»“æ„å’Œè§†å›¾åˆ‡æ¢é€»è¾‘

### Affected code

**Main Process**:
- `src/main/manifest-reader.ts` - **æ–°å»º** - YAML Manifest æ–‡ä»¶è§£ææ¨¡å—
- `src/main/package-manager.ts` - æ‰©å±•æ”¯æŒç‰ˆæœ¬æ¥æºæ‰«æã€å®‰è£…æµç¨‹ã€ä¾èµ–é¡¹æ£€æŸ¥é›†æˆ
- `src/main/dependency-manager.ts` - æ‰©å±•æ”¯æŒåŸºäº Manifest çš„ä¾èµ–é¡¹æ£€æŸ¥
- `src/main/main.ts` - æ·»åŠ ç‰ˆæœ¬ç®¡ç†ç›¸å…³çš„ IPC handlers

**Renderer Process**:
- `src/renderer/components/SidebarNavigation.tsx` - ç§»é™¤"ä¾èµ–é¡¹ç®¡ç†"å¯¼èˆªé¡¹
- `src/renderer/components/VersionManagementPage.tsx` - **é‡å†™** - å®Œæ•´å®ç°ç‰ˆæœ¬ç®¡ç†é¡µé¢
- `src/renderer/components/DependencyCheckCard.tsx` - ä¿®æ”¹ä»¥é€‚é…ç‰ˆæœ¬ç®¡ç†é¡µé¢é›†æˆ
- `src/renderer/components/SystemManagementView.tsx` - é›†æˆç‰ˆæœ¬çŠ¶æ€å±•ç¤ºå’Œå¯ç”¨æ¡ä»¶æ ¡éªŒ
- `src/renderer/store/slices/viewSlice.ts` - å¯èƒ½éœ€è¦æ›´æ–°è§†å›¾ç±»å‹å®šä¹‰

**IPC/Preload**:
- `src/preload/index.ts` - æ·»åŠ ç‰ˆæœ¬ç®¡ç†ç›¸å…³çš„ IPC æš´éœ²

**i18n**:
- `src/renderer/i18n/locales/zh-CN/pages.json` - æ·»åŠ ç‰ˆæœ¬ç®¡ç†ç›¸å…³ç¿»è¯‘
- `src/renderer/i18n/locales/en-US/pages.json` - æ·»åŠ ç‰ˆæœ¬ç®¡ç†ç›¸å…³ç¿»è¯‘
- `src/renderer/i18n/locales/zh-CN/common.json` - ç§»é™¤ä¾§è¾¹æ "ä¾èµ–é¡¹ç®¡ç†"ç¿»è¯‘
- `src/renderer/i18n/locales/en-US/common.json` - ç§»é™¤ä¾§è¾¹æ "ä¾èµ–é¡¹ç®¡ç†"ç¿»è¯‘

### Breaking changes

**UI å¯¼èˆªç»“æ„å˜æ›´**ï¼š
- ç§»é™¤ä¾§è¾¹æ ä¸­çš„"ä¾èµ–é¡¹ç®¡ç†"å¯¼èˆªé¡¹
- ä¾èµ–é¡¹æ£€æŸ¥åŠŸèƒ½å°†ä»…åœ¨ç‰ˆæœ¬ç®¡ç†é¡µé¢ä¸­å¯ç”¨

**å‘åå…¼å®¹æ€§**ï¼š
- ç°æœ‰çš„åµŒå…¥å¼ Web æœåŠ¡ç®¡ç†å’Œè¿œç¨‹æœåŠ¡å™¨ç®¡ç†åŠŸèƒ½ä¸å—å½±å“
- ä¾èµ–é¡¹æ£€æŸ¥çš„æ ¸å¿ƒåŠŸèƒ½ä¿ç•™ï¼Œåªæ˜¯è®¿é—®ä½ç½®å˜æ›´

### Migration requirements

**æ•°æ®è¿ç§»**ï¼š
- éœ€è¦æ‰©å±• electron-store é…ç½®ç»“æ„ï¼Œæ–°å¢ `installedVersions` å­—æ®µ
- å¤„ç†å¯èƒ½å­˜åœ¨çš„æ—§ç‰ˆæœ¬é…ç½®æ•°æ®ï¼ˆå¦‚æœ‰ï¼‰

**ç”¨æˆ·å¼•å¯¼**ï¼š
- åœ¨é¦–æ¬¡å‡çº§åï¼Œé€šè¿‡åº”ç”¨å†…é€šçŸ¥æç¤ºç”¨æˆ·"ä¾èµ–é¡¹ç®¡ç†"å·²æ•´åˆåˆ°"ç‰ˆæœ¬ç®¡ç†"ä¸­
- åœ¨ç‰ˆæœ¬ç®¡ç†é¡µé¢é¡¶éƒ¨æ˜¾ç¤ºå¼•å¯¼æç¤ºï¼ˆå¯å…³é—­ï¼‰

### Testing requirements

**å•å…ƒæµ‹è¯•**ï¼š
- Manifest Reader æ¨¡å—çš„ YAML è§£æåŠŸèƒ½
- Version Provider æ‰«ææœºåˆ¶
- ç‰ˆæœ¬å®‰è£…æµç¨‹çš„å„ä¸ªæ­¥éª¤
- ä¾èµ–é¡¹æ£€æŸ¥é€»è¾‘

**é›†æˆæµ‹è¯•**ï¼š
- å®Œæ•´çš„ç‰ˆæœ¬å®‰è£…æµç¨‹ï¼ˆä¸‹è½½ â†’ è§£å‹ â†’ æ£€æŸ¥ä¾èµ–é¡¹ï¼‰
- ç‰ˆæœ¬çŠ¶æ€æŒä¹…åŒ–å’Œè¯»å–
- ä¾èµ–é¡¹çŠ¶æ€æ›´æ–°å’Œ UI åˆ·æ–°

**UI æµ‹è¯•**ï¼š
- ç‰ˆæœ¬ç®¡ç†é¡µé¢äº¤äº’
- ä¾èµ–é¡¹å¡ç‰‡æ˜¾ç¤º
- ä»ªè¡¨ç›˜ç‰ˆæœ¬çŠ¶æ€å±•ç¤º
- å¯ç”¨æ¡ä»¶æ ¡éªŒ

**è·¨å¹³å°æµ‹è¯•**ï¼š
- Windowsã€macOSã€Linux å¹³å°ä¸Šçš„ä¾èµ–é¡¹æ£€æŸ¥
- ä¸åŒå¹³å°çš„å®‰è£…å‘½ä»¤æ‰§è¡Œ

### Performance considerations

- ç‰ˆæœ¬æ‰«æå¯èƒ½æ¶‰åŠæ–‡ä»¶ I/O å’Œç½‘ç»œè¯·æ±‚ï¼Œéœ€è¦å®ç°ç¼“å­˜æœºåˆ¶
- ä¾èµ–é¡¹æ£€æŸ¥å¯èƒ½æ‰§è¡Œå¤šä¸ªç³»ç»Ÿå‘½ä»¤ï¼Œéœ€è¦ä¼˜åŒ–æ£€æŸ¥é€Ÿåº¦ï¼ˆå¦‚å¹¶è¡Œæ£€æŸ¥ï¼‰
- electron-store æŒä¹…åŒ–æ“ä½œéœ€è¦è€ƒè™‘æ•°æ®é‡å¢é•¿

### Security considerations

- ä¸‹è½½ç‰ˆæœ¬åŒ…æ—¶éªŒè¯æ–‡ä»¶å®Œæ•´æ€§ï¼ˆchecksumï¼‰
- æ‰§è¡Œå®‰è£…åè„šæœ¬æ—¶éœ€è¦æ²™ç®±éš”ç¦»æˆ–æƒé™æ§åˆ¶
- æ‰§è¡Œä¾èµ–é¡¹å®‰è£…å‘½ä»¤æ—¶éœ€è¦æƒé™æ£€æŸ¥å’Œç”¨æˆ·ç¡®è®¤
- ä»è¿œç¨‹ä»“åº“è·å–ç‰ˆæœ¬åˆ—è¡¨æ—¶éªŒè¯ HTTPS è¯ä¹¦

### Documentation updates

- æ›´æ–°ç”¨æˆ·æ‰‹å†Œï¼Œè¯´æ˜ç‰ˆæœ¬ç®¡ç†åŠŸèƒ½çš„ä½¿ç”¨æ–¹æ³•
- æ›´æ–°å¼€å‘è€…æ–‡æ¡£ï¼Œè¯´æ˜ç‰ˆæœ¬ç®¡ç†æ¨¡å—çš„æ¶æ„å’Œæ‰©å±•æ–¹æ³•
- æ›´æ–° manifest.yaml æ ¼å¼è§„èŒƒæ–‡æ¡£
