## ADDED Requirements

### Requirement: 包安装后自动依赖检查

系统 SHALL 在 NORT 包安装完成后自动触发依赖检查，并提示用户安装缺失的依赖项。

#### Scenario: 包安装完成后触发依赖检查

- **WHEN** NORT 包安装流程完成（下载、解压、验证成功）
- **THEN** 系统应自动读取已安装包的 Manifest 文件
- **AND** 系统应解析 Manifest 中的依赖声明
- **AND** 系统应检查每个依赖的安装状态
- **AND** 如果存在缺失依赖，系统应显示依赖安装确认对话框

#### Scenario: 无缺失依赖时的处理

- **WHEN** 包安装完成且所有依赖都已满足
- **THEN** 系统应显示安装成功通知
- **AND** 通知应包含"所有依赖已满足"的提示
- **AND** 系统应不显示依赖安装对话框
- **AND** 用户可以正常启动 Web 服务

#### Scenario: 依赖检查失败的处理

- **WHEN** 包安装完成但依赖检查过程失败
- **THEN** 系统应记录警告日志
- **AND** 系统应显示包安装成功通知
- **AND** 通知应包含"依赖检查失败，请手动检查"的提示
- **AND** 系统应提供"检查依赖"按钮供用户手动触发

---

### Requirement: Manifest 集成的包安装流程

系统 SHALL 在包安装流程中集成 Manifest 读取和依赖检查功能。

#### Scenario: 安装流程包含依赖检查阶段

- **WHEN** 用户执行包安装操作
- **THEN** 安装流程应包含以下阶段：下载 → 解压 → 验证 → **依赖检查** → 完成
- **AND** 依赖检查阶段应在验证成功后执行
- **AND** 如果依赖检查发现缺失项，应在完成阶段前提示用户

#### Scenario: 依赖检查不影响安装成功状态

- **GIVEN** 包安装成功且存在缺失依赖
- **WHEN** 依赖检查完成
- **THEN** 包安装状态应标记为"已安装"
- **AND** 依赖缺失应作为警告而非错误处理
- **AND** 用户可以手动安装依赖后再启动服务

#### Scenario: 包重装时同样执行依赖检查

- **WHEN** 用户执行包重装操作
- **THEN** 系统应同样执行依赖检查流程
- **AND** 系统应比较重装前后的依赖差异
- **AND** 如果新版本有新增依赖，应提示用户安装
